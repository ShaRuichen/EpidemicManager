@model SettingsPeople
@{
    ViewBag.Ref = "Settings";
    ViewBag.Title = "修改个人信息";
}
<form class="Settings_form" method="post" action="Changepeople">
    <div>
        <p>以下是您可以修改的信息，框内为原值(不修改则为默认不修改)：</p><br />
    </div>
    <div class="form-group">
        <label for="name" class="col-sm-2 control-label">姓名</label>
        <div class="col-sm-10">
            @Html.TextBox("name", null, new { @class = " form-control ", placeholder = "姓名" })
        </div>
    </div>
    <div class="form-group">
        <label for="address" class="col-sm-2 control-label">地址</label>
        <div class="col-sm-10">
            @Html.TextBox("address", null, new { @class = " form-control ", placeholder = "姓名" })
        </div>
    </div>
    <div class="form-group">
        <label for="tel" class="col-sm-2 control-label">电话</label>
        <div class="col-sm-10">
            @Html.TextBox("tel", null, new { @class = " form-control ", placeholder = "姓名" })
        </div>
    </div>
    <div class="form-group">
        <label for="sex" class="col-sm-2 control-label">性别</label>
        <div class="col-sm-10">
            男 @Html.RadioButton("sex", "male", new { @class = "radioStyle" })
            女 @Html.RadioButton("sex", "female", new { @class = "radioStyle" })
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">若要修改密码，在此处输入旧密码：</label>
        <div class="col-sm-10">
            <input type="password" class="form-control" name="oldpassword"
                   placeholder="请输入旧密码">
        </div>
    </div>
    <p class="mt-5 text-danger" id="people_error"></p>
    <div class="form-group">
        <label class="col-sm-2 control-label">密&nbsp;&nbsp;&nbsp;&nbsp;码：</label>
        <div class="col-sm-10">
            <input type="password" class="form-control" name="password"
                   placeholder="请输入新密码" id="people_pwd">
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">确认密码：</label>
        <div class="col-sm-10">
            <input type="password" class="form-control"
                   placeholder="请输入确认密码" id="people_pwd2">
        </div>
    </div>
    <p id="msg_pwd" style="margin-left: 150px"></p>
</form>
<form onsubmit="return cha_people()">
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-light" id="btn_register">提交</button>
        </div>
    </div>
    <p><div class="btn btn-primary" id="DeletePeople" onclick="Delete_people()">删除个人信息</div></p>
</form>
<script>
    $(document).ready(function () {
        $('#people_pwd2').on('input propertychange', function () {
            var pwd = document.getElementById("people_pwd").value;
            var rpwd = $.trim($("#people_pwd2").val());
            if (pwd == rpwd) {
                $("#msg_pwd").html("<font color='green'>两次密码匹配通过</font>");
                $("#btn_register").attr("disabled", false);
            } else {
                $("#msg_pwd").html("<font color='red'>两次密码不匹配</font>");
                $("#btn_register").attr("disabled", true);
            }
        })
    })
</script>
